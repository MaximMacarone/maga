### Динамическая маршрутизация. Алгоритмы, протоколы. Автономные системы. 
![[Снимок экрана 2025-08-04 в 19.22.47.png]]
![[Снимок экрана 2025-08-04 в 19.23.00.png]]
![[Снимок экрана 2025-08-04 в 19.55.37.png]]
Динамическая дистанционно-векторная маршрутизация — это метод, при котором маршрутизаторы обмениваются информацией о маршрутах и расстояниях до сетей. Протоколы, такие как RIP (Routing Information Protocol), используют этот подход, передавая информацию о маршрутах соседним маршрутизаторам. Каждый маршрутизатор хранит таблицу маршрутизации, в которой указано количество хопов до каждой сети.

![[Снимок экрана 2025-08-04 в 19.57.34.png]]
Динамическая маршрутизация по состоянию канала, например OSPF (Open Shortest Path First), использует информацию о состоянии всех интерфейсов для построения карты сети. Каждый маршрутизатор создает базу данных состояния каналов (LSDB), которая содержит информацию о всех доступных маршрутах.
### Таблица маршрутизации.
Таблица маршрутизации — это ключевой элемент работы маршрутизатора, который хранит информацию о доступных сетях и путях к ним.
### Определение оптимального маршрута. Предотвращение петель коммутации.
Определение оптимального маршрута в сети — это процесс нахождения наилучшего пути для передачи данных от отправителя к получателю. Это осуществляется с помощью различных алгоритмов маршрутизации, которые используют метрики для оценки "стоимости" каждого возможного пути. Ниже рассмотрены основные концепции, алгоритмы и примеры определения оптимального маршрута.

**Алгоритмы поиска оптимального маршрута** 

**Алгоритм Дейкстры** 
Алгоритм Дейкстры используется для поиска кратчайшего пути в сети с неотрицательными весами ребер. 
Инициализация: Задаётся начальный узел и устанавливается его расстояние до самого себя равным нулю, а до всех остальных узлов — бесконечность. 
Посещение узлов: На каждом шаге выбирается узел с наименьшим известным расстоянием от начального узла. 
Обновление расстояний: Обновляются расстояния до соседних узлов выбранного узла. 
Повторение: Повторяются шаги 2 и 3, пока все узлы не будут посещены.

**Протоколы динамической маршрутизации**
RIP (Routing Information Protocol): 
1. Использует алгоритм Беллмана-Форда. 
2. Ограничение на максимальное число хопов (15). 
3. Обновляет таблицы маршрутизации каждые 30 секунд. 

OSPF (Open Shortest Path First): 
1. Использует алгоритм Дейкстры. 
2. Поддерживает разделение сети на области. 
3. Быстро реагирует на изменения в топологии сети. 

EIGRP (Enhanced Interior Gateway Routing Protocol): 
1. Гибридный протокол от Cisco. 
2. Объединяет характеристики дистанционно-векторных и протоколов состояния канала. 
3. Быстро сходится и масштабируется. 

BGP (Border Gateway Protocol): 
1. Основной протокол для междоменной маршрутизации в интернете. 
2. Использует вектор путей и метрики для определения наилучшего маршрута.


Петли коммутации возникают, когда существует более одного пути между коммутаторами, и кадры могут бесконечно циркулировать по сети. Это может привести к перегрузке сети и нарушению её работы.

Методы предотвращения петель коммутации: 
● STP (Spanning Tree Protocol): STP — это стандартный протокол, который используется для предотвращения петель в сетях Ethernet. Он работает, выбирая один активный путь между 
коммутаторами и блокируя остальные, чтобы избежать циклов. 

Режимы STP: 
1. RSTP (Rapid Spanning Tree Protocol): Обеспечивает более быстрое восстановление сети по сравнению с классическим STP. 
2. MSTP (Multiple Spanning Tree Protocol): Позволяет создавать несколько экземпляров STP для разных VLAN, что улучшает использование сети. 

Пример настройки STP на коммутаторе Cisco: 
Switch(config)# spanning-tree mode rapid-pvst 

RSTP (Rapid Spanning Tree Protocol) и MSTP (Multiple Spanning Tree Protocol): Продвинутые версии STP, которые обеспечивают более быстрое восстановление сети и поддержку нескольких VLAN.Ы