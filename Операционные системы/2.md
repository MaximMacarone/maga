### Процессы.
**Процесс** - программа, которая находится в состоянии выполнения. Однако процесс это не только исполняемый программный код, но также набор ресурсов, таких как открытые файлы и сигналы, ожидающие обработки, внутренние данные ядра, состояние процессора, адресное пространство памяти, один или несколько потоков выполнения кода (threads of execution), а также сегмент данных программы (data section) с глобальными переменными.

Понятие процесса характеризует некоторую совокупность набора исполняющихся команд, ассоциированных с ним ресурсов (выделенная для исполнения память или адресное пространство, стеки, используемые файлы и устройства ввода-вывода и т. д.) и текущего момента его выполнения (значения регистров, программного счетчика, состояние стека и значения переменных), находящуюся под управлением операционной системы.

Всего у процессов три состояния:
1. Выполняемый (в данный момент использующий центральный процессор)
2. Готовый (работоспособный, но временно приостановленный, чтобы дать возможность выполнения другому процессу)
3. Заблокированный (неспособный выполняться, пока не возникнет какое-нибудь внешнее событие)
### Операции над процессами, контекст процесса, одноразовые и многоразовые операции. Переключение контекста.

Операции над процессами:
- создание fork()
- завершение - по собственной инициативе либо принудительно
- Прерывание планировщиком
- Ожидание и продолжение
![[Снимок экрана 2025-08-04 в 18.23.54.png]]

Операции создания и завершения процесса являются одноразовыми, так как применяются к процессу не более одного раза (некоторые системные процессы при работе вычислительной системы не завершаются никогда). Все остальные операции, связанные с изменением состояния процессов, будь то запуск или блокировка, как правило, являются многоразовыми.

Одноразовые операции - создание, удаление процесса
Многоразовые операции - запуск, приостановка, блокирование, разблокирование процесса

**Запуск процесса**. Из числа процессов, находящихся в состоянии  готовность, операционная система выбирает один процесс для последующего исполнения. Далее состояние процесса изменяется на исполнение , восстанавливаются значения регистров для данного процесса и управление передается команде, на которую указывает счетчик команд процесса. Все данные, необходимые для восстановления контекста, извлекаются из PCB процесса, над которым совершается операция.

**Приостановка процесса**. Работа процесса, находящегося в состоянии  исполнение, приостанавливается в результате какого-либо прерывания. Процессор автоматически сохраняет счетчик команд и, возможно, один или несколько регистров в стеке исполняемого процесса, а затем передает управление по специальному адресу обработки данного прерывания. Она сохраняет динамическую часть системного и регистрового контекстов  процесса в его PCB, переводит процессв состояние  готовность и приступает к обработке прерывания, то есть к выполнению определенных действий, связанных с возникшим прерыванием.

**Блокирование процесса**. Процесс блокируется, когда он не может продолжать работу, не дождавшись возникновения какого-либо события в вычислительной системе. Для этого он обращается к операционной системе с помощью определенного системного вызова. Операционная система обрабатывает системный вызов (инициализирует операцию ввода-вывода, добавляет процесс в очередь процессов, дожидающихся освобождения устройства или возникновения события, и т. д.) и, при необходимости сохранив нужную часть контекста процесса в его PCB, переводит процесс из состояния  исполнение в состояние  ожидание

**Разблокирование процесса**. После возникновения в системе какого-либо события операционной системе нужно точно определить, какое именно событие произошло. Затем операционная система проверяет, находился ли некоторый процесс в состоянии  ожидание для данного события, и если находился, переводит его в состояние  готовность, выполняя необходимые действия, связанные с наступлением события

Для того чтобы операционная система могла выполнять операции над процессами, каждый процесс представляется в ней некоторой структурой данных. Эта структура содержит информацию, специфическую для данного процесса:

- состояние, в котором находится процесс ;
- программный счетчик процесса или, другими словами, адрес команды, которая должна быть выполнена для него следующей;
- содержимое регистров процессора;
- данные, необходимые для планирования использования процессора и управления памятью (приоритет процесса, размер и расположение адресного пространства и т. д.);
- учетные данные (идентификационный номер процесса, какой пользователь инициировал его работу, общее время использования процессора данным процессом и т. д.);
- сведения об устройствах ввода-вывода, связанных с процессом (например, какие устройства закреплены за процессом, таблицу открытых файлов).
Мы будем называть ее PCB (Process ControlBlock) или блоком управления процессом. Блок управления процессом является моделью процесса для операционной системы. Любая операция, производимая операционной системой над процессом, вызывает определенные изменения в PCB .

В операционной системе Linux переключение контекста процесса - это процесс смены выполнения процессором от одного процесса к другому. Для корректного переключения процессора с одного процесса на другой необходимо сохранить контекст исполнявшегося процесса и восстановить контекст процесса, на который будет переключен процессор. Такая процедура сохранения/восстановления работоспособности процессов называется переключением контекста. Время, затраченное на переключение контекста, не используется вычислительной системой для совершения полезной работы и представляет собой накладные расходы, снижающие производительность системы. Оно меняется от машины к машине и обычно колеблется в диапазоне от 1 до 1000 микросекунд.

Контекст процесса в операционных системах представляет собой набор данных, необходимых для восстановления состояния процесса и продолжения его выполнения. Контекст включает информацию о регистрах процессора, указателях стека, счетчике команд (Program Counter) и других релевантных значениях, которые описывают  состояние процесса в определенный момент времени.