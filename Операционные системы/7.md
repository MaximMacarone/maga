### Механизмы синхронизации. Семафоры. 

В операционной системе Linux ***семафоры*** (semaphore) — это блокировки, которые переводят процессы в состояние ожидания. При попытке захвата семафора, который уже захвачен другой задачей, текущая задача помещается в очередь ожидания (waitqueue) и замораживается. После этого процессор переходит к выполнению другой задачи. Как только требуемый семафор освобождается, одна из задач, находящаяся в очереди ожидания, активизируется, после чего она может захватить требуемый семафор.

Монитор представляет собой коллекцию переменных и структур данных, сгруппированных вместе в специальную разновидность модуля или пакета процедур. Процессы могут вызывать любые необходимые им процедуры, имеющиеся в мониторе, но не могут получить непосредственный доступ к внутренним структурам данных монитора из процедур, объявленных за пределами монитора.

### Решение проблемы «производитель- потребитель» с помощью семафоров. 
Два процесса используют общий буфер фиксированного размера. Один из них, производитель, помещает информацию в буфер, а другой, потребитель, извлекает ее оттуда.

Проблемы возникают в тот момент, когда производителю требуется поместить новую запись в уже заполненный буфер. Решение заключается в блокировании производителя до тех пор, пока потребитель не извлечет как минимум одну запись. Также, если потребителю нужно извлечь запись из буфера и он видит, что буфер пуст, он блокируется до тех пор, пока производитель не поместит что-нибудь в буфер и не активизирует этого потребителя.

![[Снимок экрана 2025-08-03 в 23.09.31.png]]

### Мониторы. 
У мониторов имеется весьма важное свойство, позволяющее успешно справляться со взаимными исключениями: в любой момент времени в мониторе может быть активен только один процесс. Мониторы являются конструкцией языка программирования, поэтому компилятор осведомлен об их особенностях и способен обрабатывать вызовы процедур монитора не так, как вызовы всех остальных процедур.

### Сообщения.
Этот метод взаимодействия процессов использует два примитива, send и receive, которые, подобно семафорам и в отличие от мониторов, являются системными вызовами, а не конструкциями языка.